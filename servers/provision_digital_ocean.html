<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Provisioning Digital Ocean</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" media="screen" href="/chef-gm/css/screen.css">
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-4254311-25', 'jsnrkd.github.io');
  ga('send', 'pageview');

</script>
  </head>
  <body>
    <div class="container">
      <h1>Provisioning Digital Ocean</h1>


  <p class="lead">
    <small>
      Chef-solo on Digital Ocean
    </small>
  </p>


  <em>Developed by <a href="http://twitter.com/jasonrikard">@JasonRikard</a></em>
<hr>

<div class="row">
  <div class="col-lg-3 col-md-3">
    <ul class="nav-toc"><li class="nav-toc-group"><a class="nav-toc-heading" href="/chef-gm/index.html">Chef-gm</a><ul class="nav-toc-menu"></ul></li><li class="nav-toc-group"><a class="nav-toc-heading" href="/chef-gm/getting_started/index.html">Getting Started</a><ul class="nav-toc-menu"><li><a href="/chef-gm/getting_started/dependencies.html">Dependencies</a></li></ul></li><li class="nav-toc-group"><a class="nav-toc-heading" href="/chef-gm/servers/index.html">Provisioning</a><ul class="active nav-toc-menu"><li><a href="/chef-gm/servers/environments.html">Chef Solo Environments</a></li><li><a href="/chef-gm/servers/provision_rackspace.html">Provisioning Rackspace</a></li><li class="active"><a href="/chef-gm/servers/provision_digital_ocean.html">Provisioning Digital Ocean</a></li></ul></li><li class="nav-toc-group"><a class="nav-toc-heading" href="/chef-gm/database/index.html">Database</a><ul class="nav-toc-menu"><li><a href="/chef-gm/database/faker.html">Anonymize Dataset</a></li></ul></li></ul>
  </div>
  <div id="content" class="col-lg-9 col-md-9">
    <p><em>Updated: April 14, 2014 </em></p>
    <p><strong>Goal:</strong> Provision a server on Digital Ocean using an existing chef-solo project.</p>

<p><strong>Audience:</strong> Sysadmins and developers with CLI experience and general Chef knowledge.</p>

<p><strong>Dependencies:</strong> ruby, git, chef, knife-solo</p>

<p><em>Tested on OSX 10.9.2</em></p>

<h3 id="helpful-links">Helpful links</h3>
<p><a href="https://github.com/rmoriz/knife-digital_ocean">Knife digital ocean</a></p>

<p><a href="https://github.com/matschaffer/knife-solo/wiki/Berkshelf-&amp;-Librarian-Chef-integration">Knife-solo berkshelf integration doc</a></p>

<h3 id="digital-ocean-example">Digital Ocean Example</h3>

<p>Install Gems</p>

<pre><code>$ gem install knife-digital_ocean --no-ri --no-rdoc
</code></pre>

<ul>
  <li>Configure ssh key with digital ocean</li>
</ul>

<p>Configure knife api keys:</p>

<pre><code>nano  ~/.chef/knife.rb 
knife[:digital_ocean_client_id] = 'your_client_id'
knife[:digital_ocean_api_key] = 'your_api_key'
</code></pre>

<p>Ensure you are configured correctly</p>

<pre><code>knife digital_ocean droplet list
</code></pre>

<p>Provision</p>

<pre><code>$ cd {project_directory}
$ knife digital_ocean droplet create -N {hostname} --ssh-keys {key-id} --image {image-id} --location 1 --size 66 --solo
</code></pre>

<p>(For the future) Update server config</p>

<pre><code>$ knife solo cook root@{ip} nodes/{hostname}.json
</code></pre>

<ul>
  <li>Configure DNS at digitalocean.com</li>
</ul>


    <ul class="nav-pager"><li><a class="btn btn-primary" href="/servers/provision_rackspace.html">&laquo; Prev</a></li><li><a class="btn btn-primary" href="/database/index.html">Next &raquo;</a></li></ul>
  </div>
</div>
      <script src="/js/site.js"></script>
    </div>
  </body>
</html>
